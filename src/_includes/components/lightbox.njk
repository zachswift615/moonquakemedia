<!-- Lightbox Modal -->
<div class="lightbox" id="lightbox">
    <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
    <button class="lightbox-prev" onclick="changeImage(-1)">&#10094;</button>
    <div class="lightbox-content">
        <img id="lightbox-img" src="" alt="Screenshot">
    </div>
    <button class="lightbox-next" onclick="changeImage(1)">&#10095;</button>
    <div class="lightbox-counter" id="lightbox-counter"></div>
</div>

<script>
let currentImageIndex = 0;
const images = Array.from(document.querySelectorAll('.screenshot'));

images.forEach((img, index) => {
    img.addEventListener('click', () => openLightbox(index));
});

function openLightbox(index) {
    currentImageIndex = index;
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const counter = document.getElementById('lightbox-counter');

    lightboxImg.src = images[currentImageIndex].src;
    lightboxImg.alt = images[currentImageIndex].alt;
    counter.textContent = `${currentImageIndex + 1} / ${images.length}`;

    lightbox.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeLightbox() {
    const lightbox = document.getElementById('lightbox');
    lightbox.classList.remove('active');
    document.body.style.overflow = '';
}

function changeImage(direction) {
    currentImageIndex += direction;
    if (currentImageIndex >= images.length) currentImageIndex = 0;
    else if (currentImageIndex < 0) currentImageIndex = images.length - 1;

    const lightboxImg = document.getElementById('lightbox-img');
    const counter = document.getElementById('lightbox-counter');

    lightboxImg.src = images[currentImageIndex].src;
    lightboxImg.alt = images[currentImageIndex].alt;
    counter.textContent = `${currentImageIndex + 1} / ${images.length}`;
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') closeLightbox();
    else if (e.key === 'ArrowLeft') changeImage(-1);
    else if (e.key === 'ArrowRight') changeImage(1);
});

document.getElementById('lightbox').addEventListener('click', (e) => {
    if (e.target.id === 'lightbox') closeLightbox();
});
</script>
